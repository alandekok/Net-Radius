***************
*** 12,25 ****
    my $class = shift;
    my $self = { };
    bless $self, $class;
    $self->readfile($_[0]) if defined($_[0]);
    return $self;
  }
  
  sub readfile {
    my ($self, $filename) = @_;
-   my (%vsattr, %rvsattr, %vsaval, %rvsaval, 
-       %attr, %rattr, %val, %rval);
  
    open DICT, "<$filename";
  
--- 12,27 ----
    my $class = shift;
    my $self = { };
    bless $self, $class;
+   $self->{attr} = { }; $self->{rattr} = { };
+   $self->{val}  = { }; $self->{rval}  = { };
+   $self->{vsattr} = { }; $self->{rvsattr} = { };
+   $self->{vsaval}  = { }; $self->{rvsaval}  = { };
    $self->readfile($_[0]) if defined($_[0]);
    return $self;
  }
  
  sub readfile {
    my ($self, $filename) = @_;
  
    open DICT, "<$filename";
  
***************
*** 27,46 ****
      next if $l =~ /^\#/;
      next unless my @l = split /\s+/, $l;
      if (uc($l[0]) eq "ATTRIBUTE") {
-       if (not defined $attr{$l[1]}) {
- 	$attr{$l[1]}  = [@l[2,3]];
        }
-       if (not defined $rattr{$l[2]}) {
- 	$rattr{$l[2]} = [@l[1,3]];
        }
      }
      elsif (uc($l[0]) eq "VALUE") {
-       if (defined $attr{$l[1]}) {
- 	if (not defined $val{$attr{$l[1]}->[0]}->{$l[2]}) {
- 	  $val{$attr{$l[1]}->[0]}->{$l[2]}  = $l[3];
  	}
- 	if (not defined $rval{$attr{$l[1]}->[0]}->{$l[3]}) {
- 	  $rval{$attr{$l[1]}->[0]}->{$l[3]} = $l[2];
  	}
        }
        else {
--- 29,48 ----
      next if $l =~ /^\#/;
      next unless my @l = split /\s+/, $l;
      if (uc($l[0]) eq "ATTRIBUTE") {
+       if (not defined $self->{attr}->{$l[1]}) {
+ 	$self->{attr}->{$l[1]}  = [@l[2,3]];
        }
+       if (not defined $self->{rattr}->{$l[2]}) {
+ 	$self->{rattr}->{$l[2]} = [@l[1,3]];
        }
      }
      elsif (uc($l[0]) eq "VALUE") {
+       if (defined $self->{attr}->{$l[1]}) {
+ 	if (not defined $self->{val}->{$self->{attr}->{$l[1]}->[0]}->{$l[2]}) {
+ 	  $self->{val}->{$self->{attr}->{$l[1]}->[0]}->{$l[2]}  = $l[3];
  	}
+ 	if (not defined $self->{rval}->{$self->{attr}->{$l[1]}->[0]}->{$l[3]}) {
+ 	  $self->{rval}->{$self->{attr}->{$l[1]}->[0]}->{$l[3]} = $l[2];
  	}
        }
        else {
***************
*** 151,162 ****
      }
    }
    close DICT;
- 
-   $self->{attr} = \%attr; $self->{rattr} = \%rattr;
-   $self->{val}  = \%val;  $self->{rval}  = \%rval;
-   $self->{vsattr} = \%vsattr; $self->{rvsattr} = \%rvsattr;
-   $self->{vsaval}  = \%vsaval;  $self->{rvsaval}  = \%rvsaval;
-     
  }
  
  # Accessors for standard attributes
--- 153,158 ----
      }
    }
    close DICT;
  }
  
  # Accessors for standard attributes
